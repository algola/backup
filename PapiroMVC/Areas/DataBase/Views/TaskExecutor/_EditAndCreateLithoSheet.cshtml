@model PapiroMVC.Models.LithoSheet
@using PapiroMVC.Validation

@{
    
    string strings = "~/Areas/DataBase/Views/TaskExecutor/Strings";
//    ViewBag.PrintingUnit = new System.Dynamic.ExpandoObject();
//    string[] printingUnitName = {"1","2","3","4","5","6","7","8","9","10","11","12"};
    int[] printingUnitName = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12 };
//    ViewBag.PrintingUnit.PrintingUnitName = new List<string>(printingUnitName);
}

<div id="status"> 
        
    @Scripts.Render("~/bundles/jqueryval")
@using (Ajax.BeginForm("Action", "TaskExecutor", new AjaxOptions { UpdateTargetId = "status", OnBegin = "ShowProcessingMsg", OnComplete = "HideProcessingMsg", OnSuccess="OnSuccess" }))
{
    @Html.ValidationSummary(true)

    <fieldset>
        <legend>LithoSheet</legend>

            @Html.HiddenFor(model => model.TimeStampTable)

            @Html.AlgolaEditorFor(model => model.TaskExecutorName)
            @Html.AlgolaEditorFor(model => model.Version)

            @Html.EditorFor(model => model.Dismissed)

            @Html.AlgolaAutocompleteFor(model => model.FormatMin,"FormatMin","TaskExecutor")
            @Html.AlgolaAutocompleteFor(model => model.FormatMax,"FormatMax","TaskExecutor")
            @Html.AlgolaEditorFor(model => model.WeightMin)
            @Html.AlgolaEditorFor(model => model.WeightMax)
 
            @Html.AlgolaEditorFor(model => model.Pinza)
            @Html.AlgolaEditorFor(model => model.ControPinza)
            @Html.AlgolaEditorFor(model => model.Laterale)
        
            <h3>Stampa</h3>

        <br />

            <div>
                <div class="editor-label" style="float:left">
                    @Html.LabelFor(model => model.PrintingUnit)
                </div>

                <div class="editor-field">
                    @Html.DropDownListFor(model => model.PrintingUnit,
                    new SelectList(printingUnitName))
                </div>
            </div>
        <br />

        
            @Html.EditorFor(model => model.Sheetwise)

            <div>
                <div class="editor-label" style="float:left">
                    @Html.LabelFor(model => model.SheetwiseAfterPrintingUnit)
                </div>

                <div class="editor-field">
                    @Html.DropDownListFor(model => model.SheetwiseAfterPrintingUnit,
                    new SelectList(printingUnitName))
                </div>
            </div>

        <br />

       
            @Html.AlgolaEditorFor(model => model.InkUsage)
            @Html.AlgolaEditorFor(model => model.InkUsageForfait)

            @Html.HiddenFor(model => model.TimeStampTable)
            @Html.HiddenFor(model => model.CodTaskExecutor)
        
            @Html.HiddenFor(model => model.IsEstimatedOnTime)
            @Html.HiddenFor(model => model.IsEstimatedOnRun)
            @Html.HiddenFor(model => model.IsEstimatedOnMq)

            <h3>Scarti</h3> 
        <br />
            @Html.AlgolaAutocompleteFor(model => model.ProofSheetFirstStart,"ProofSheetFirstStart","TaskExecutor")
            @Html.AlgolaAutocompleteFor(model => model.ProofSheetSecondsStart,"ProofSheetSecondsStart","TaskExecutor")

            @Html.AlgolaAutocompleteFor(model => model.ProductionWaste,"ProductionWaste","TaskExecutor")

    </fieldset>
    <br />
    <p>
       
        <button type="button" onclick="Javascript:window.location.replace('@Url.Action("IndexLithoSheet", "TaskExecutor", new {Area="Database"})');">            
            <i class="ico-arrow-left"></i>
             @HttpContext.GetLocalResourceObject(strings, "Cancel")
        </button>
        
        <button class="default" type="submit" name="@ViewBag.ActionMethod">
            <i class="icon-save"></i>
            @HttpContext.GetLocalResourceObject(strings, "Save")
        </button>        
        
        @if (ViewBag.ActionMethod != "CreateLithoSheet")
        {
            <button class="default" type="submit" name="CreateLithoSheet">
                <i class="icon-save"></i>
                @HttpContext.GetLocalResourceObject(strings, "SaveNewBasedOn")
            </button> 
        }
    </p>

}
    
</div>


@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}

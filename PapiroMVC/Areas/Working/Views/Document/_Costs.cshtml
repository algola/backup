@using PapiroMVC.Validation
@using Mvc.HtmlHelpers
@using MvcContrib.UI.Grid
@model PapiroMVC.Models.DocumentProduct

@{
    string strings = "~/Areas/Working/Views/Document/Strings";
}

@(Html.jqGrid("CostGrid" + Model.CodDocumentProduct)

    .setCaption((string)HttpContext.GetLocalResourceObject(strings, "TitleIndex"))
        // columns
    .addColumn(new Column("Id")
        .setLabel((string)HttpContext.GetLocalResourceObject(strings, "OperationsCaption"))
        .setCustomFormatter("editCost")
        .setSortable(false))
    .addColumn(new Column("CodCost")
        .setLabel((string)HttpContext.GetLocalResourceObject(strings, "CodCost"))
        .setWidth(150)
        .setSortable(false))
    .addColumn(new Column("Description")
        .setLabel((string)HttpContext.GetLocalResourceObject(strings, "Description"))
        .setWidth(350)
        .setSortable(false))
    .addColumn(new Column("UnitCost")
        .setLabel((string)HttpContext.GetLocalResourceObject(strings, "UnitCost"))
        .setWidth(50)
        .setSortable(false))
    .addColumn(new Column("Quantity")
        .setLabel((string)HttpContext.GetLocalResourceObject(strings, "Quantity"))
        .setWidth(50)
        .setSortable(false))
    .addColumn(new Column("TotalCost")
        .setLabel((string)HttpContext.GetLocalResourceObject(strings, "TotalCost"))
        .setWidth(50)
        .setSortable(false))
            
    .setUrl(Url.Action("Costs", "Document", new { codDocumentProduct = Model.CodDocumentProduct }))

    .setHeight(300)
    .setRowNum(10)
    .setRowList(new int[] { 10, 20, 50, 100 })
    .setPager("CostGridAccountPager")
    .setPrint(true)
    .setLoadText("")
    .setAutoWidth(true)
    .setSearchToolbar(true)

    // error handler
    .onLoadError((string)HttpContext.GetLocalResourceObject(strings, "ErrorLoading"))

    // render the html
    .Render()
)


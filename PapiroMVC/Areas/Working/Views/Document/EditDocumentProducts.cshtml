@using PapiroMVC.Validation
@model List<PapiroMVC.Models.DocumentProduct>

@{
    string strings = "~/Areas/Working/Views/Document/Strings";
    ViewBag.Title = "EditDocumentProducts";
}

@section title{
    @Html.T(strings, "Document")
}

@section description{
    @Html.T(strings, "EditDocumentProductsDesc")
}

@section specificPlugInStyle {
    <link rel="stylesheet" href="~/Content/acetheme/assets/css/jquery-ui-1.10.3.full.min.css" />
    <link rel="stylesheet" href="~/Content/acetheme/assets/css/datepicker.css" />
    <link rel="stylesheet" href="~/Content/acetheme/assets/css/ui.jqgrid.css" />
}

@section specificPluginScript {
    <script src="~/Content/acetheme/assets/js/date-time/bootstrap-datepicker.min.js"></script>
    <script src="~/Content/acetheme/assets/js/jqGrid/jquery.jqGrid.min.js"></script>
    <script src="~/Content/acetheme/assets/js/jqGrid/i18n/grid.locale-en.js"></script>
}

<div class="tabbable tabs-left">
    <ul class="nav nav-tabs" id="myTabo">

        <li class="active">
            <a data-toggle="tab" href="#frame0">
                @Html.T(strings, "ProductDescription")
                <i class="pink icon-dashboard bigger-110"></i>
            </a>
        </li>

        @for (int i = 0; i < Model.Count; i++)
        { 
            <li><a data-toggle="tab" href="#frame@((i + 1).ToString())">
                <i class="blue icon-stackexchange bigger-110"></i>

                @if (Model[i].Quantity != null)
                {
                    @Model[i].Quantity.ToString()
                }
                else
                {
                    @Html.Label("****Quantità non impostata");
                }
            </a>
            </li>
        }

    </ul>

    @Html.Partial("_CostsCommonScript")

    <div class="tab-content">
        <div class="tab-pane in active" id="frame@((0).ToString())">
            @Html.Label(Model.First().Product.ProductName)
        </div>

        <!-- DocumentProducts -->
        @for (int i = 0; i < Model.Count; i++)
        {
            ViewBag.IndexPart = i;
            
            <div class="tab-pane" id="frame@((i + 1).ToString())">                
                @*griglia dei costi di questa quantità*@               
                @Html.Partial("_Costs",Model[i])
                @Html.EditorFor(model => model[i])
            </div>
        }

    </div>
</div>


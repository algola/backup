@model PapiroMVC.Models.RigidPrintableArticleAutoChanges
@using Mvc.HtmlHelpers
@using PapiroMVC.Validation

@{
    string strings = "~/Areas/DataBase/Views/Article/Strings";
    ViewBag.Title = (string)@Html.T(strings, "TitleIndex");

    string[] typeOfArticle = new string[4];
    typeOfArticle[0] = (string)@Html.T(strings, "SheetPrintableArticleType");
    typeOfArticle[1] = (string)@Html.T(strings, "RigidPrintableArticleType");
    typeOfArticle[2] = (string)@Html.T(strings, "ObjectPrintableArticleType");
    typeOfArticle[3] = (string)@Html.T(strings, "RigidPrintableArticleType");
}

<div id="containerbox">
    <!-- Main Page -->

    @(Html.jqGrid("ArticleGrid")

    .setCaption((string)@Html.T(strings, "RigidPrintableArticleGridCaption"))
    .setCaption("")

    .setMultiSelect(true)
            // columns
    .addColumn(new Column("Id")
        .setLabel((string)@Html.T(strings, "OperationsCaption"))
        .setWidth(@Html.T(strings, "OperationsCaptionWidth") == null ? 60 : Convert.ToInt32(@Html.T(strings, "OperationsCaptionWidth")))
        .setCustomFormatter("editArticle")
        .setSortable(false))
    .addColumn(new Column("CodArticle")
        .setLabel((string)@Html.T(strings, "CodArticleCaption"))
        .setWidth(80)
        .setSortable(true))

    .addColumn(new Column("TypeOfMaterial")
        .setLabel((string)@Html.T(strings, "TypeOfMaterialCaption"))
        .setWidth(100)
        .setSortable(true)
        .setSearch(true))

    .addColumn(new Column("NameOfMaterial")
        .setLabel((string)@Html.T(strings, "NameOfMaterialCaption"))
        .setWidth(100)
        .setSortable(true)
        .setSearch(true))

    .addColumn(new Column("Color")
        .setLabel((string)@Html.T(strings, "ColorCaption"))
        .setWidth(100)
        .setSortable(true)
        .setSearch(true))

    .addColumn(new Column("Weight")
        .setLabel((string)@Html.T(strings, "WeightCaption"))
        .setWidth(45)
        .setSortable(true)
        .setAlign(Align.right)
        .setSearch(true))

    .addColumn(new Column("Format")
        .setLabel((string)@Html.T(strings, "FormatCaption"))
        .setWidth(45)
        .setAlign(Align.right)
        .setSortable(true)
        .setSearch(true))

    .addColumn(new Column("SupplierName")
        .setLabel((string)@Html.T(strings, "SupplierNameCaption"))
        .setSearch(true)
        .setWidth(150))

    .addColumn(new Column("CostPerMq")
        .setLabel((string)@Html.T(strings, "CostPerMqCaption"))
        .setTitle(false)
        .setSearch(true)
        .setWidth(45)
        .setAlign(Align.right))

    .addColumn(new Column("CostPerMl")
        .setLabel((string)@Html.T(strings, "CostPerMlCaption"))
        .setSearch(true)
        .setWidth(45)
        .setAlign(Align.right))

    .setUrl(Url.Action("RigidPrintableArticleList", "Article"))

    .setHeight(300)
    .setRowNum(20)
    .setRowList(new int[] { 10, 20, 50, 100 })
    .setPager("CustomGridAccountPager")
    .setPrint(true)
    .setLoadText("")
    .setAutoWidth(true)
    .setSearchToolbar(true)
    .setViewRecords(true)

    // error handler
    .onLoadError((string)@Html.T(strings, "ErrorLoading"))

    // render the html
    .Render()
)

    <br />

    <button class="btn btn-primary" type="button" onclick="Javascript:window.location.replace('@Url.Action("CreateRigidPrintableArticle", "Article", new { Area = "Database" })');">
        <i class="icon-plus"></i>
        @Html.T(strings, "CreateRigidPrintableArticle")
    </button>

    @*
    <button class="btn btn-primary" type="button" onclick="Javascript:window.location.replace('@Url.Action("WizardRigidPrintableArticle", "Article", new { Area = "Database" })');">
        <i class="icon-plus"></i>
        @Html.T(strings, "WizardRigidPrintableArticle")
    </button>
    *@

</div>

<br />

<script src="@Url.Content("~/Scripts/jquery.unobtrusive-ajax.min.js")" type="text/javascript"></script>

@*
<div id="accordion2" class="accordion accordion-style2">
    <div class="accordion-group">
        <div class="accordion-heading">
            <a href="#collapseOne" data-parent="#accordion2" data-toggle="collapse" class="accordion-toggle collapsed">@Html.T(strings, "AutoCahngesCaption")
            </a>
        </div>

        <div class="accordion-body collapse" id="collapseOne" style="height: 0px;">
            <div class="accordion-inner">
                <div id="sheetPrintableArticleAutoChanges">
                    @Html.Partial("_RigidPrintableArticleAutoChanges", Model)
                </div>
            </div>
        </div>
    </div>
</div>
*@

<script type="text/javascript">

    $(window).bind('resize', function () {
        $("#ArticleGrid").setGridWidth($("#body-container").width());
    }).trigger('resize');

</script>


